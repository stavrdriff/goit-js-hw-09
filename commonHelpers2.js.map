{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\n\nconst FORM_KEY = 'feedback-form-state';\n\nconst removeStorageFormData = (key) => {\n  localStorage.removeItem(key);\n}\n\nconst getFormData = (form) => {\n  const email = form.email.value.trim();\n  const message = form.message.value.trim();\n\n  return { email, message };\n}\n\nconst setFormData = (form, key) => {\n  const dataInStorage = getStorageFormData(key);\n\n  if (dataInStorage !== null) {\n    form.email.value = dataInStorage.email;\n    form.message.value = dataInStorage.message;\n  }\n}\n\nconst setStorageFormData = (key, data) => {\n  localStorage.setItem(key, JSON.stringify(data));\n}\n\nconst getStorageFormData = (key) => {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nconst formHandler = (form) => {\n  form.addEventListener('input', (e) => {\n    const formData = getFormData(e.currentTarget);\n\n    setStorageFormData(FORM_KEY, formData);\n  });\n\n  form.addEventListener('submit', (e) => {\n    e.preventDefault();\n    !form.email.value\n      ? form.email.closest('label').firstElementChild.style.color = 'red'\n      : form.email.closest('label').firstElementChild.removeAttribute('style');\n\n    !form.message.value\n      ? form.message.closest('label').firstElementChild.style.color = 'red'\n      : form.message.closest('label').firstElementChild.removeAttribute('style');\n\n    if (form.email.value && form.message.value) {\n      console.log(getStorageFormData(FORM_KEY));\n      removeStorageFormData(FORM_KEY);\n      form.reset();\n    }\n  });\n}\n\nconst initForm = () => {\n  const form = document.querySelector('.feedback-form');\n\n  setFormData(form, FORM_KEY);\n  formHandler(form);\n}\n\ninitForm();"],"names":["FORM_KEY","removeStorageFormData","key","getFormData","form","email","message","setFormData","dataInStorage","getStorageFormData","setStorageFormData","data","formHandler","e","formData","initForm"],"mappings":"wFAEA,MAAMA,EAAW,sBAEXC,EAAyBC,GAAQ,CACrC,aAAa,WAAWA,CAAG,CAC7B,EAEMC,EAAeC,GAAS,CAC5B,MAAMC,EAAQD,EAAK,MAAM,MAAM,KAAI,EAC7BE,EAAUF,EAAK,QAAQ,MAAM,KAAI,EAEvC,MAAO,CAAE,MAAAC,EAAO,QAAAC,EAClB,EAEMC,EAAc,CAACH,EAAMF,IAAQ,CACjC,MAAMM,EAAgBC,EAAmBP,CAAG,EAExCM,IAAkB,OACpBJ,EAAK,MAAM,MAAQI,EAAc,MACjCJ,EAAK,QAAQ,MAAQI,EAAc,QAEvC,EAEME,EAAqB,CAACR,EAAKS,IAAS,CACxC,aAAa,QAAQT,EAAK,KAAK,UAAUS,CAAI,CAAC,CAChD,EAEMF,EAAsBP,GACnB,KAAK,MAAM,aAAa,QAAQA,CAAG,CAAC,EAGvCU,EAAeR,GAAS,CAC5BA,EAAK,iBAAiB,QAAUS,GAAM,CACpC,MAAMC,EAAWX,EAAYU,EAAE,aAAa,EAE5CH,EAAmBV,EAAUc,CAAQ,CACzC,CAAG,EAEDV,EAAK,iBAAiB,SAAWS,GAAM,CACrCA,EAAE,eAAc,EACfT,EAAK,MAAM,MAERA,EAAK,MAAM,QAAQ,OAAO,EAAE,kBAAkB,gBAAgB,OAAO,EADrEA,EAAK,MAAM,QAAQ,OAAO,EAAE,kBAAkB,MAAM,MAAQ,MAG/DA,EAAK,QAAQ,MAEVA,EAAK,QAAQ,QAAQ,OAAO,EAAE,kBAAkB,gBAAgB,OAAO,EADvEA,EAAK,QAAQ,QAAQ,OAAO,EAAE,kBAAkB,MAAM,MAAQ,MAG9DA,EAAK,MAAM,OAASA,EAAK,QAAQ,QACnC,QAAQ,IAAIK,EAAmBT,CAAQ,CAAC,EACxCC,EAAsBD,CAAQ,EAC9BI,EAAK,MAAK,EAEhB,CAAG,CACH,EAEMW,EAAW,IAAM,CACrB,MAAMX,EAAO,SAAS,cAAc,gBAAgB,EAEpDG,EAAYH,EAAMJ,CAAQ,EAC1BY,EAAYR,CAAI,CAClB,EAEAW,EAAU"}